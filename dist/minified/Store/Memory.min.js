!function(a,b){"object"==typeof module&&"object"==typeof module.exports&&(exports=module.exports=b()),"function"==typeof define&&define.amd&&define([],b),"object"==typeof a.navigator&&("undefined"==typeof a.Terraformer&&(a.Terraformer={}),"undefined"==typeof a.Terraformer.Store&&(a.Terraformer.Store={}),a.Terraformer.Store.Memory=b().Memory)}(this,function(){function a(){this.data={}}var b,c={};return"object"==typeof this.navigator&&(b=this.Terraformer),"object"==typeof module&&"object"==typeof module.exports&&(b=require("../terraformer.js")),arguments[0]&&"function"==typeof define&&define.amd&&(b=arguments[0]),a.prototype.add=function(a,b){if("FeatureCollection"===a.type)for(var c=0;c<a.features.length;c++)this.data[a.features[c].id]=a.features[c];else this.data[a.id]=a;b&&b(null,a)},a.prototype.remove=function(a,b){delete this.data[a],b&&b(null,a)},a.prototype.get=function(a,b){b&&b(null,this.data[a])},a.prototype.update=function(a,b){this.data[a.id]=a,b&&b(null)},a.prototype.serialize=function(a){var b=JSON.stringify(this.data);a&&a(null,b)},a.prototype.deserialize=function(a){return this.data=JSON.parse(a),this},c.Memory=a,c});